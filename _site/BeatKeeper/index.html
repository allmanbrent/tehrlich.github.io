<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>BeatKeeper Version 1.0 &#8211; Tyler Ehrlich</title>
<meta name="description" content="Personal website of Tyler Ehrlich.">
<meta name="keywords" content="">



<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="BeatKeeper Version 1.0">
<meta property="og:description" content="Personal website of Tyler Ehrlich.">
<meta property="og:url" content="http://tylerehrlich.com/BeatKeeper/">
<meta property="og:site_name" content="Tyler Ehrlich">





<link rel="canonical" href="http://tylerehrlich.com/BeatKeeper/">
<link href="http://tylerehrlich.com/feed.xml" type="application/atom+xml" rel="alternate" title="Tyler Ehrlich Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://tylerehrlich.com/assets/css/main.css"> 
<!-- Webfonts -->
<link href="http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://tylerehrlich.com/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://tylerehrlich.com/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://tylerehrlich.com/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://tylerehrlich.com/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://tylerehrlich.com/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://tylerehrlich.com/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://tylerehrlich.com/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post" >

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="http://tylerehrlich.com">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="http://tylerehrlich.com/images/avatar.jpg" alt="Tyler Ehrlich photo" class="author-photo">
					<h4>Tyler Ehrlich</h4>
					<p>Conductor, educator, programmer.</p>
				</li>
				<li><a href="http://tylerehrlich.com/bio/">Formal Bio</a></li>
				<li><a href="http://tylerehrlich.com/cv.pdf"><i class="fa fa-file-pdf-o"></i>CV</a></li>
				<li><a href="http://tylerehrlich.com/rep.pdf"><i class="fa fa-file-pdf-o"></i>Repertoire</a></li>
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Blog</a>
			<ul class="dl-submenu">
				<li><a href="http://tylerehrlich.com/posts/">Posts by Date</a></li>
				<li><a href="http://tylerehrlich.com/tags/">Posts by Category</a></li>
			</ul>
		</li>
		<li>
			<a href="#">Contact</a>
			<ul class="dl-submenu">
				<li>
					<a href="mailto:tylerlehrlich@gmail.com"><i class="fa fa-envelope"></i> Email</a>
				</li>
				
				<li>
					<a href="http://facebook.com/tehrlich"><i class="fa fa-facebook"></i> Facebook</a>
				</li>
				
				
				
				
				
				
				
			</ul>
		</li>
		
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->




<div id="main" role="main">
  <article class="hentry">
    <header class="header-title">
      <div class="header-title-wrap">
        
          <h1 class="entry-title"><a href="http://tylerehrlich.com/BeatKeeper/" rel="bookmark" title="BeatKeeper Version 1.0">BeatKeeper Version 1.0</a></h1>
        
        <h2>November 06, 2013</h2>
        
      </div><!-- /.header-title-wrap -->
    </header>
    <div class="entry-content">
      <p><i>Reposted from the CU Winds Google Glass blog available <a href="http://blogs.cornell.edu/cuwindsglass/2013/11/06/beatkeeper-version-1-0/">here</a>.</i></p>

<p>Cindi and I spent a few hours two weeks ago getting BeatKeeper up and running on Glass. After cloning the repository on my local machine, I imported the app into Eclipse and pushed it to the device. We were immediately presented with something that looks like this:</p>

<center><p><a href="http://blogs.cornell.edu/cuwindsglass/files/2013/11/beatkeeper1-mxu0ki.png"><img class="alignnone size-full wp-image-240" title="beatkeeper1" src="http://blogs.cornell.edu/cuwindsglass/files/2013/11/beatkeeper1-mxu0ki.png" alt="" width="640" height="360" /></a></p></center>

<p>It was quite exciting for us to see a metronome! I swiped forward and back to navigate through the controls; I hit play and a consistent pulse started in my ear. Perfect.</p>

<p>Next thing was making it landscape and more easy to read. I headed into the <code>AndroidManifest.xml</code> file and changed <code>android:screenOrientation="portrait"</code> to <code>android:screenOrientation="landscape"</code>. Now we were presented with something a bit more usable, but the Start button was cut off:</p>

<center><p><a href="http://blogs.cornell.edu/cuwindsglass/files/2013/11/beatkeeper2-16qrdna.png"><img class="alignnone size-full wp-image-237" title="beatkeeper2" src="http://blogs.cornell.edu/cuwindsglass/files/2013/11/beatkeeper2-16qrdna.png" alt="" width="640" height="360" /></a></p></center>

<p>This was a great time for me to introduce layout files to Cindi, so I went over the XML and explained how the placement worked. We messed around with the layout and sizing and ended up here:</p>

<center><p><a href="http://blogs.cornell.edu/cuwindsglass/files/2013/11/beatkeeper-2lle8xw.png"><img class="alignnone size-full wp-image-235" title="beatkeeper" src="http://blogs.cornell.edu/cuwindsglass/files/2013/11/beatkeeper-2lle8xw.png" alt="" width="640" height="360" /></a></p></center>

<p>After our NYC media lunch, I put in a lot of thought about usability. Buttons are appropriate for mobile devices, but not really for Glass. Using the slider and tap gestures are considerably more intuitive and simple. In their <a href="https://developers.google.com/glass/guidelines">usability guidelines</a>, Google writes, &#8220;Glass users expect the technology to be there when they want it and out of the way when they don&#8217;t. Your Glassware should never take precedence over users&#8217; lives.&#8221; Especially in a rehearsal setting, I wanted to design something simple and intuitive.</p>

<p>Here is the first real version of BeatKeeper for Glass:</p>

<center><p><a href="http://blogs.cornell.edu/cuwindsglass/files/2013/11/beatkeeper3-1kzxr8q.png"><img class="alignnone size-full wp-image-241" title="beatkeeper3" src="http://blogs.cornell.edu/cuwindsglass/files/2013/11/beatkeeper3-1kzxr8q.png" alt="" width="640" height="360" /></a></p></center>

<p>It&#8217;s simple and easy to read. To adjust the tempo, simply slide your finger on the side of Glass. To start and start the metronome, tap once. All of the gestures are recognized via a <a href="http://developer.android.com/reference/android/view/GestureDetector.html"><code>GestureDetector</code></a>. I&#8217;ve stripped all unnecessary controls from the app. The resulting experience is sleek and straight forward to use.</p>

<p>Here is the source for the <code>GestureDetector</code>.</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onScroll</span><span class="o">(</span><span class="n">MotionEvent</span> <span class="n">e1</span><span class="o">,</span> <span class="n">MotionEvent</span> <span class="n">e2</span><span class="o">,</span> <span class="kt">float</span> <span class="n">distanceX</span><span class="o">,</span>
					   <span class="kt">float</span> <span class="n">distanceY</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="s">&quot;Gesture Example&quot;</span><span class="o">,</span> <span class="s">&quot;onScroll: distanceX:&quot;</span> <span class="o">+</span> <span class="n">distanceX</span> <span class="o">+</span>
    <span class="s">&quot; distanceY:&quot;</span> <span class="o">+</span> <span class="n">distanceY</span><span class="o">);</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">distanceX</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">{</span> <span class="c1">//determine scrolling direction</span>
    	<span class="n">bpm</span><span class="o">++;</span>
    	<span class="n">TextView</span> <span class="n">bpmText</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">bps</span><span class="o">);</span>
        <span class="n">bpmText</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">&quot;&quot;</span><span class="o">+</span><span class="n">bpm</span><span class="o">);</span>
        <span class="n">metroTask</span><span class="o">.</span><span class="na">setBpm</span><span class="o">(</span><span class="n">bpm</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">distanceX</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span> 
    	<span class="n">bpm</span><span class="o">--;</span>
    	<span class="n">TextView</span> <span class="n">bpmText</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">bps</span><span class="o">);</span>
        <span class="n">bpmText</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">&quot;&quot;</span><span class="o">+</span><span class="n">bpm</span><span class="o">);</span>
        <span class="n">metroTask</span><span class="o">.</span><span class="na">setBpm</span><span class="o">(</span><span class="n">bpm</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">return</span> <span class="kc">true</span><span class="o">;</span></code></pre></div>

<p><strong><span style="line-height: 1.714285714; font-size: 1rem;">So what&#8217;s next for BeatKeeper for Glass?</span></strong></p>

<p>A reverse metronome is a tool for finding a tempo via tapping. Over the next few days, I hope to create another simple tool that averages taps on the device. I&#8217;m not sure if it will be a standalone application or integrated with BeatKeeper. Although the two go hand-in-hand, it would be difficult to switch functions between a metronome and a reverse metronome. A long press on the side could change the mode of the application, but if you press and hold for around two seconds, you are presented with a Google Search. There is an intermediary gesture of around one second, <code>onShowPress</code>, but if you hold it down for too long, you&#8217;re presented with the search window. The only way to override this, as far as I know, would be to root the device and edit the Glass interface itself. The other idea is to utilize swiping up and down to change the functionality.</p>

<p>The (somewhat hastily written) source is viewable on Github here:</p>

<p><a href="https://github.com/tehrlich/BeatKeeper">https://github.com/tehrlich/BeatKeeper</a></p>

      <footer class="entry-meta">
        <span class="entry-tags"></span>
        <span><a href="http://tylerehrlich.com/BeatKeeper/" rel="bookmark" title="BeatKeeper Version 1.0">BeatKeeper Version 1.0</a> was published on <span class="entry-date date published updated"><time datetime="2013-11-06T00:00:00-05:00">November 06, 2013</time></span></span>
        
        <span class="author vcard"><span class="fn"><a href="http://tylerehrlich.com/about/" title="About Tyler Ehrlich">Tyler Ehrlich</a></span></span>
        
      </footer>
    </div><!-- /.entry-content -->
    
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2015 Tyler Ehrlich. Powered by <a href="http://jekyllrb.com">Jekyll</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://tylerehrlich.com/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://tylerehrlich.com/assets/js/scripts.min.js"></script>

	        

</body>
</html>
