<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>BeatKeeper Version 1.0</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS/JS-->
        <link href='http://fonts.googleapis.com/css?family=Lato:400,700,300,100' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/css/bootstrap.css">
        <link rel="stylesheet" href="/css/bootstrap-responsive.css">
        <link rel="stylesheet" href="/css/style.css">
        <link rel="stylesheet" href="/css/flexslider.css">
        <link rel="stylesheet" href="/css/prettyPhoto.css" />
        <link rel="shortcut icon" href="/favicon.ico">
        <script src="/js/googleanalytics.js"></script>
        <script src="/js/jquery-1.7.1.js"></script>
        <script src="/js/bootstrap.min.js"></script>
        <script src="/js/jquery.easing.1.3.js"></script>
        <script src="/js/jquery.custom.js"></script>
        <script src="/js/jquery.quicksand.js"></script>
        <script src="/js/jquery.flexslider.js"></script>
        <script src="http://maps.google.com/maps/api/js?sensor=true"></script>
    </head>
    <body>
  <div class="wrapper">
    <div class="masthead">
      <div class="container">
      <!-- button for small devices-->
      <div class="row no-margin"><div class="span12"><div class="hidden-desktop">
      <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"></a></div>
      <div class="brand"> <a href="/">tylerehrlich.com</a></div>
      <!-- navigation -->
      <div class="navbar main-nav"><div class="nav-collapse collapse" >
         <ul class="nav pull-right ">
          <li><a href="/posts">Blog</a></li>
          <li><a href="/cv.pdf">CV (PDF)</a></li>
          <li><a href="/contact">Contact</a></li>
        </ul>
        </div></div></div></div>
        <!-- end navigation -->
      </div>
      <!-- end container -->
    </div>
    <!-- end header-->
    <div class="container clearfix">
	<div class="span12">
		<h3 class="intro">BeatKeeper Version 1.0</h3>
		<p class="meta">06 Nov 2013</p>
	</div>
<div class="row">
      <div class="span3 bs-docs-sidebar">
        <ul class="nav nav-list bs-docs-sidenav">
       	  
       	  	
          	<li><a href="/Glass-Scoreviewer-2.html"><i class="icon-chevron-right"></i>Score Viewer 2.0 for Glass</a></li>
    		
          
       	  	
          	<li><a href="/costa-rica-through-glass.html"><i class="icon-chevron-right"></i>Costa Rica Through Glass</a></li>
    		
          
       	  	
          	<li><a href="/sweeney-todd-errata.html"><i class="icon-chevron-right"></i>Sweeney Todd: Errata</a></li>
    		
          
       	  	
          	<li><a href="/scoreviewer.html"><i class="icon-chevron-right"></i>Score Viewer for Glass</a></li>
    		
          
       	  	
          	<li><a href="/photostreaming.html"><i class="icon-chevron-right"></i>Streaming Photos from Glass</a></li>
    		
          
       	  	
          	<li><a href="/gazebo-errata.html"><i class="icon-chevron-right"></i>Gazebo Dances: Errata</a></li>
    		
          
       	  	
          	<li><a href="/Sweeney-Todd-Through-Glass.html"><i class="icon-chevron-right"></i>Sweeney Todd Through Glass</a></li>
    		
          
       	  	
          	<li class="active"><a href="/BeatKeeper1.html"><i class="icon-chevron-right"></i>BeatKeeper Version 1.0</a></li>
          	 
          
       	  	
          	<li><a href="/spelling-bee-errata.html"><i class="icon-chevron-right"></i>Spelling Bee: Errata</a></li>
    		
          
       	  	
          	<li><a href="/gazebo-plan.html"><i class="icon-chevron-right"></i>Gazebo Dances: Rehearsal Schedule</a></li>
    		
          
        </ul>
      </div>
      <div class="span9">
      <p><i>Reposted from the CU Winds Google Glass blog available <a href="http://blogs.cornell.edu/cuwindsglass/2013/11/06/beatkeeper-version-1-0/">here</a>.</i></p>

<p>Cindi and I spent a few hours two weeks ago getting BeatKeeper up and running on Glass. After cloning the repository on my local machine, I imported the app into Eclipse and pushed it to the device. We were immediately presented with something that looks like this:</p>

<p><center><p><a href="http://blogs.cornell.edu/cuwindsglass/files/2013/11/beatkeeper1-mxu0ki.png"><img class="alignnone size-full wp-image-240" title="beatkeeper1" src="http://blogs.cornell.edu/cuwindsglass/files/2013/11/beatkeeper1-mxu0ki.png" alt="" width="640" height="360" /></a></p></center></p>

<p>It was quite exciting for us to see a metronome! I swiped forward and back to navigate through the controls; I hit play and a consistent pulse started in my ear. Perfect.</p>

<p>Next thing was making it landscape and more easy to read. I headed into the <code>AndroidManifest.xml</code> file and changed <code>android:screenOrientation="portrait"</code> to <code>android:screenOrientation="landscape"</code>. Now we were presented with something a bit more usable, but the Start button was cut off:</p>

<p><center><p><a href="http://blogs.cornell.edu/cuwindsglass/files/2013/11/beatkeeper2-16qrdna.png"><img class="alignnone size-full wp-image-237" title="beatkeeper2" src="http://blogs.cornell.edu/cuwindsglass/files/2013/11/beatkeeper2-16qrdna.png" alt="" width="640" height="360" /></a></p></center></p>

<p>This was a great time for me to introduce layout files to Cindi, so I went over the XML and explained how the placement worked. We messed around with the layout and sizing and ended up here:</p>

<p><center><p><a href="http://blogs.cornell.edu/cuwindsglass/files/2013/11/beatkeeper-2lle8xw.png"><img class="alignnone size-full wp-image-235" title="beatkeeper" src="http://blogs.cornell.edu/cuwindsglass/files/2013/11/beatkeeper-2lle8xw.png" alt="" width="640" height="360" /></a></p></center></p>

<p>After our NYC media lunch, I put in a lot of thought about usability. Buttons are appropriate for mobile devices, but not really for Glass. Using the slider and tap gestures are considerably more intuitive and simple. In their <a href="https://developers.google.com/glass/guidelines">usability guidelines</a>, Google writes, &#8220;Glass users expect the technology to be there when they want it and out of the way when they don&#8217;t. Your Glassware should never take precedence over users&#8217; lives.&#8221; Especially in a rehearsal setting, I wanted to design something simple and intuitive.</p>

<p>Here is the first real version of BeatKeeper for Glass:</p>

<p><center><p><a href="http://blogs.cornell.edu/cuwindsglass/files/2013/11/beatkeeper3-1kzxr8q.png"><img class="alignnone size-full wp-image-241" title="beatkeeper3" src="http://blogs.cornell.edu/cuwindsglass/files/2013/11/beatkeeper3-1kzxr8q.png" alt="" width="640" height="360" /></a></p></center></p>

<p>It&#8217;s simple and easy to read. To adjust the tempo, simply slide your finger on the side of Glass. To start and start the metronome, tap once. All of the gestures are recognized via a <a href="http://developer.android.com/reference/android/view/GestureDetector.html"><code>GestureDetector</code></a>. I&#8217;ve stripped all unnecessary controls from the app. The resulting experience is sleek and straight forward to use.</p>

<p>Here is the source for the <code>GestureDetector</code>.</p>

<div class="highlight"><pre><code class="java"><span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onScroll</span><span class="o">(</span><span class="n">MotionEvent</span> <span class="n">e1</span><span class="o">,</span> <span class="n">MotionEvent</span> <span class="n">e2</span><span class="o">,</span> <span class="kt">float</span> <span class="n">distanceX</span><span class="o">,</span>
                       <span class="kt">float</span> <span class="n">distanceY</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="s">&quot;Gesture Example&quot;</span><span class="o">,</span> <span class="s">&quot;onScroll: distanceX:&quot;</span> <span class="o">+</span> <span class="n">distanceX</span> <span class="o">+</span>
    <span class="s">&quot; distanceY:&quot;</span> <span class="o">+</span> <span class="n">distanceY</span><span class="o">);</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">distanceX</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">{</span> <span class="c1">//determine scrolling direction</span>
        <span class="n">bpm</span><span class="o">++;</span>
        <span class="n">TextView</span> <span class="n">bpmText</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">bps</span><span class="o">);</span>
        <span class="n">bpmText</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">&quot;&quot;</span><span class="o">+</span><span class="n">bpm</span><span class="o">);</span>
        <span class="n">metroTask</span><span class="o">.</span><span class="na">setBpm</span><span class="o">(</span><span class="n">bpm</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">distanceX</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span> 
        <span class="n">bpm</span><span class="o">--;</span>
        <span class="n">TextView</span> <span class="n">bpmText</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">bps</span><span class="o">);</span>
        <span class="n">bpmText</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">&quot;&quot;</span><span class="o">+</span><span class="n">bpm</span><span class="o">);</span>
        <span class="n">metroTask</span><span class="o">.</span><span class="na">setBpm</span><span class="o">(</span><span class="n">bpm</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
</code></pre></div>

<p><strong><span style="line-height: 1.714285714; font-size: 1rem;">So what&#8217;s next for BeatKeeper for Glass?</span></strong></p>

<p>A reverse metronome is a tool for finding a tempo via tapping. Over the next few days, I hope to create another simple tool that averages taps on the device. I&#8217;m not sure if it will be a standalone application or integrated with BeatKeeper. Although the two go hand-in-hand, it would be difficult to switch functions between a metronome and a reverse metronome. A long press on the side could change the mode of the application, but if you press and hold for around two seconds, you are presented with a Google Search. There is an intermediary gesture of around one second, <code>onShowPress</code>, but if you hold it down for too long, you&#8217;re presented with the search window. The only way to override this, as far as I know, would be to root the device and edit the Glass interface itself. The other idea is to utilize swiping up and down to change the functionality.</p>

<p>The (somewhat hastily written) source is viewable on Github here:</p>

<p><a href="https://github.com/tehrlich/BeatKeeper">https://github.com/tehrlich/BeatKeeper</a></p>

  </div>
</div>
</div>
    <div class="push"></div> <!-- Used for Sticky Footer -->
    </div>
    <!--page footer -->
  <div class="page-footer footer" id="footer">
  <div class="container"></div>
  </div> 
  </div>
</body>
</html>