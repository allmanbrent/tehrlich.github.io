<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Score Viewer 2.0 for Glass &#8211; Tyler Ehrlich</title>
<meta name="description" content="Personal website of Tyler Ehrlich.">
<meta name="keywords" content="">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://localhost:4000/images/">
<meta name="twitter:title" content="Score Viewer 2.0 for Glass">
<meta name="twitter:description" content="Personal website of Tyler Ehrlich.">
<meta name="twitter:creator" content="@tlehrlich">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Score Viewer 2.0 for Glass">
<meta property="og:description" content="Personal website of Tyler Ehrlich.">
<meta property="og:url" content="http://localhost:4000/glass/Glass-Scoreviewer-2/">
<meta property="og:site_name" content="Tyler Ehrlich">





<link rel="canonical" href="http://localhost:4000/glass/Glass-Scoreviewer-2/">
<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Tyler Ehrlich Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.css"> 
<!-- Webfonts -->
<link href="http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://localhost:4000/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://localhost:4000/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://localhost:4000/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post" >

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="http://localhost:4000">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="http://localhost:4000/images/avatar.jpg" alt="Tyler Ehrlich photo" class="author-photo">
					<h4>Tyler Ehrlich</h4>
					<p>Full-time grad student at UGA studying conducting, part-time tech geek. My passion is the intersection of the two.</p>
				</li>
				<li><a href="http://localhost:4000/bio/">Bio</a></li>
				<li><a href="http://localhost:4000/cv.pdf"><i class="fa fa-file-pdf-o"></i>CV</a></li>
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Blog</a>
			<ul class="dl-submenu">
				<li><a href="http://localhost:4000/posts/">All Posts</a></li>
				<li><a href="http://localhost:4000/tags/">All Tags</a></li>
			</ul>
		</li>
		<li>
			<a href="#">Contact</a>
			<ul class="dl-submenu">
				<li>
					<a href="mailto:tylerlehrlich@gmail.com"><i class="fa fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="http://twitter.com/tlehrlich"><i class="fa fa-twitter"></i> Twitter</a>
				</li>
				<li>
					<a href="http://facebook.com/tehrlich"><i class="fa fa-facebook"></i> Facebook</a>
				</li>
				
				
				
				
				
				
				
			</ul>
		</li>
		<li><a href="http://localhost:4000/theme-setup">Theme Setup</a></li><li><a href="http://mademistakes.com" target="_blank">External Link</a></li>
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->




<div id="main" role="main">
  <article class="hentry">
    <header class="header-title">
      <div class="header-title-wrap">
        
          <h1 class="entry-title"><a href="http://localhost:4000/glass/Glass-Scoreviewer-2/" rel="bookmark" title="Score Viewer 2.0 for Glass">Score Viewer 2.0 for Glass</a></h1>
        
        <h2>June 01, 2014</h2>
        
      </div><!-- /.header-title-wrap -->
    </header>
    <div class="entry-content">
      <p><img src="img/edward.jpg" alt="Kevin, Cindi, and I all reading music notation from Glass" class="img-polaroid mugshot" /></p>
<center>*Andre, Cindi, and I all reading music notation from Glass.*</center>

<p>Last November, we finished the <a href="https://github.com/tehrlich/scoreviewer">first version</a> of the music score viewing application. Built on the <a href="https://developers.google.com/glass/develop/mirror/index">Mirror API</a>, the app pushed a series of cards (what we had as the score of <em>Armenian Dances</em> by Aram Khachaturian) to Glass. Although functional, the app had a few problems.</p>

<ol>
  <li>
    <p>Google App Engine (GAE) would occasionally timeout while sending cards to Glass. I didn’t solve this issue fully, but from what I could tell, since we were sending many calls to Glass, the program would stall waiting for a response and terminate. This was far from ideal, and even at GAE’s highest timeout threshold it would still stall on slow applications. A possible fix for this would be to have a different thread responsible for sending the cards, and a loading screen telling the user to wait. Since I knew we were going to start from scratch on this next version, I never implemented this.</p>
  </li>
  <li>
    <p>The original app sent all different cards, versus stacked in one bundle. If the user received an email or text message while the bundle of score pages was being pushed to his or her Glass, that would be inserted in the middle of the score. Awkward. I was able to fix this by bundling the cards in one stack.</p>
  </li>
  <li>
    <p>If you received new cards while performing, they would take precedence over your score. Turning off wifi and Bluetooth fixed this, but that’s not truly an ideal solution.</p>
  </li>
  <li>
    <p>Controlling the cards was limited to the gestures on the touchpad or through a Bluetooth controller. We used a wireless keyboard to advance pages, but pairing the device was awkward and required a hack to work.</p>
  </li>
</ol>

<p>For these reasons, I immediately started using the <a href="https://developers.google.com/glass/develop/gdk/">Glass Development Kit (GDK)</a> to write the next version of the score viewer. Setting up the programming environment for Glass is pretty straightforward and is discussed in the documentation for the GDK.</p>

<p>At its core, the application is very straightforward. An <a href="http://developer.android.com/reference/android/widget/ImageView.html">ImageView</a> loads up the first page of a score, which is simply a 640x360px image. After a certain event occurs, the next image is loaded. After all are cycled through, the score returns to the first page.</p>

<p>Here is the cool feature: to advance pages, the user blinks twice while looking at the Glass display. To go to a previous page, the user taps the touchpad once. This decision was a conscious one; tapping the touchpad is faster than swiping back and forth. In order to get this functionality to work, I used Takahiro “Poly” Horikawa’s Eye Gesture Library on Github, available <a href="github.com/thorikawa/EyeGestureLib">here</a>.</p>

<p>So, how well does it work? Truthfully, quite well. After getting used to looking through or away from Glass, I’m always successful in having the pages advance when they should. Occasionally a “phantom blink” happens, and the page advances before it should. A quick tap brings it back in place. This could be disastrous in live performance, especially if musicians are reading notation off of the device, versus having a conductor use it as a reminder of meter changes and cues. I’ve found that calibrating the winking sensor can greatly reduce phantom blinks. Also, be sure the “wink for photo” setting is enabled in the settings menu before using the app. </p>

<p>Although a bit messy, the source for the Glass Score Viewer 2.0 is available on Github below. The demo score installed is Khachaturian’s <em>Armenian Dances</em>. I hope to comment some more of the code and upload a revised version soon.</p>

<p><a href="https://github.com/tehrlich/gdkscoreviewer">https://github.com/tehrlich/gdkscoreviewer</a></p>


      <footer class="entry-meta">
        <span class="entry-tags"></span>
        <span><a href="http://localhost:4000/glass/Glass-Scoreviewer-2/" rel="bookmark" title="Score Viewer 2.0 for Glass">Score Viewer 2.0 for Glass</a> was published on <span class="entry-date date published updated"><time datetime="2014-06-01T00:00:00-04:00">June 01, 2014</time></span></span>
        
        <span class="author vcard"><span class="fn"><a href="http://localhost:4000/about/" title="About Tyler Ehrlich">Tyler Ehrlich</a></span></span>
        
      </footer>
    </div><!-- /.entry-content -->
    
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2014 Tyler Ehrlich. Powered by <a href="http://jekyllrb.com">Jekyll</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://localhost:4000/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://localhost:4000/assets/js/scripts.min.js"></script>

	        

</body>
</html>
